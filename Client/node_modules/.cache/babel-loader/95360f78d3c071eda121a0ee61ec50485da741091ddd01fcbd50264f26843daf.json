{"ast":null,"code":"var _jsxFileName = \"/Users/artur/Desktop/VI semestr/Cloud/project/Client/src/components/Seats/Seats.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./styles.Seats.css\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Table = () => {\n  _s();\n  const [object, setObject] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [checkedStatus, setCheckedStatus] = useState({});\n  const nameOfRow = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\n  const idOfFlight = localStorage.getItem(\"id\");\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8080/api/flights/\" + idOfFlight);\n        setObject(response.data);\n        setLoading(false);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchData();\n  }, [idOfFlight]);\n  useEffect(() => {\n    if (object && object.flight_seats) {\n      const newCheckedStatus = {};\n      for (const seat of object.flight_seats) {\n        const idCheck = `${seat.row}-${seat.column}`;\n        newCheckedStatus[idCheck] = seat.reserved;\n      }\n      setCheckedStatus(newCheckedStatus);\n    }\n  }, [object]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }, this);\n  }\n  const renderObjectFields = () => {\n    const headers = [];\n    headers.push( /*#__PURE__*/_jsxDEV(\"th\", {\n      className: \"seatsTh\"\n    }, 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 22\n    }, this));\n    for (let i = 1; i <= 53; i++) {\n      headers.push( /*#__PURE__*/_jsxDEV(\"th\", {\n        className: \"seatsTh\",\n        children: i\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 26\n      }, this));\n    }\n    return headers;\n  };\n  const renderObjectValue = () => {\n    const handleCheckboxChange = idCheck => {\n      setCheckedStatus(prevStatus => ({\n        //change this to request to database\n        ...prevStatus,\n        [idCheck]: !prevStatus[idCheck]\n      }));\n    };\n    const tableRows = [];\n    for (let i = 0; i < 8; i++) {\n      const tableColumns = [];\n      tableColumns.push( /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"seatsTd\",\n        children: nameOfRow[i]\n      }, 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 31\n      }, this));\n      for (let j = 1; j < 54; j++) {\n        const idCheck = nameOfRow[i] + \"-\" + j;\n        tableColumns.push( /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"seatsTd\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: idCheck,\n            checked: checkedStatus[idCheck] || false,\n            onChange: () => handleCheckboxChange(idCheck)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, j + 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this));\n      }\n      tableRows.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"seatsTr\",\n        children: tableColumns\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 28\n      }, this));\n    }\n    return tableRows;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"plane\",\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"seatsTableHeaders\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"seatsTr\",\n          children: renderObjectFields()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: renderObjectValue()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"backLink\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"backButton\",\n        onClick: () => localStorage.clear(),\n        children: \"Back to flight table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n_s(Table, \"RGLwXiYcorK5al7uHvQ48Dwu3YQ=\");\n_c = Table;\nexport default Table;\nvar _c;\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"names":["React","useEffect","useState","axios","Link","jsxDEV","_jsxDEV","Table","_s","object","setObject","loading","setLoading","checkedStatus","setCheckedStatus","nameOfRow","idOfFlight","localStorage","getItem","fetchData","response","get","data","error","console","flight_seats","newCheckedStatus","seat","idCheck","row","column","reserved","children","fileName","_jsxFileName","lineNumber","columnNumber","renderObjectFields","headers","push","className","i","renderObjectValue","handleCheckboxChange","prevStatus","tableRows","tableColumns","j","type","id","checked","onChange","to","onClick","clear","_c","$RefreshReg$"],"sources":["/Users/artur/Desktop/VI semestr/Cloud/project/Client/src/components/Seats/Seats.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./styles.Seats.css\";\nimport { Link } from \"react-router-dom\"\n\nconst Table = () => {\n    const [object, setObject] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [checkedStatus, setCheckedStatus] = useState({});\n    const nameOfRow = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\"];\n    const idOfFlight = localStorage.getItem(\"id\");\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await axios.get(\n                    \"http://localhost:8080/api/flights/\" + idOfFlight\n                );\n                setObject(response.data);\n                setLoading(false);\n            } catch (error) {\n                console.error(error);\n            }\n        };\n\n        fetchData();\n    }, [idOfFlight]);\n    useEffect(() => {\n        if (object && object.flight_seats) {\n            const newCheckedStatus = {};\n            for (const seat of object.flight_seats) {\n                const idCheck = `${seat.row}-${seat.column}`;\n                newCheckedStatus[idCheck] = seat.reserved;\n            }\n            setCheckedStatus(newCheckedStatus);\n        }\n    }, [object]);\n    if (loading) {\n        return <h1>Loading data...</h1>;\n    }\n\n    const renderObjectFields = () => {\n        const headers = [];\n        headers.push(<th key={0} className=\"seatsTh\"></th>);\n        for (let i = 1; i <= 53; i++) {\n            headers.push(<th key={i} className=\"seatsTh\">{i}</th>);\n        }\n        return headers;\n    };\n\n    const renderObjectValue = () => {\n        const handleCheckboxChange = (idCheck) => {\n            setCheckedStatus((prevStatus) => ({//change this to request to database\n                ...prevStatus,\n                [idCheck]: !prevStatus[idCheck],\n            }));\n        };\n        const tableRows = [];\n        for (let i = 0; i < 8; i++) {\n            const tableColumns = [];\n            tableColumns.push(<td key={0} className=\"seatsTd\">{nameOfRow[i]}</td>);\n            for (let j = 1; j < 54; j++) {\n                const idCheck = nameOfRow[i] + \"-\" + j;\n                tableColumns.push(\n                    <td key={j + 1} className=\"seatsTd\">\n                        <input\n                            type=\"checkbox\"\n                            id={idCheck}\n                            checked={checkedStatus[idCheck] || false}\n                            onChange={() => handleCheckboxChange(idCheck)}\n                        />\n                    </td>\n                );\n            }\n            tableRows.push(<tr key={i} className=\"seatsTr\">{tableColumns}</tr>);\n        }\n        return tableRows;\n    };\n\n    return (\n        <div className=\"plane\">\n            <table className=\"seatsTableHeaders\">\n                <thead>\n                    <tr className=\"seatsTr\">{renderObjectFields()}</tr>\n                </thead>\n                <tbody>{renderObjectValue()}</tbody>\n            </table>\n            <Link to=\"/\" className=\"backLink\">\n                <button type=\"button\"\n                    className=\"backButton\"\n                    onClick={() => localStorage.clear()}>\n                    Back to flight table\n                </button>\n            </Link>\n        </div>\n    );\n};\n\nexport default Table;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}